<!DOCTYPE html>
<html>

<!--
  TODO: Resolve circular dependency problems
-->

<head>
  <title>Woogic</title>
  <link rel="stylesheet" href="./style.css">
  <link rel="shortcut icon" href="./assets/slugcats/survivor.png">
</head>

<body>
  <div id="cover" style="opacity: 0%;"></div>
  <img src="./assets/playmat.png" id="playmat">
  <div id="optcontainer" style="display:none;">
    <div id="optchooser">
      <span id="optmsg"></span>
      <div id="optlist"></div>
      <button id="optsubmit">OK</button>
    </div>
  </div>
  <div id="targetinfo" style="opacity: 0%;"></div>
  <div id="stack"></div>
  <div id="field"></div>
  <div class="horizontalbar" style="top: 15%;"></div>
  <div class="horizontalbar" style="bottom: 15%;"></div>

  <div id="pass-buttons">
    <button id="endturn" class="tt cool">>><span class="tx">End Turn</span></button>
    <button id="pass" class="cool">Pass</button>
    <button id="endphase" class="tt cool">><span class="tx">Advance Phase</span></button>
  </div>
  <button id="confirm" class="cool" style="display: none;">Confirm</button>

  <script type="module" src="./scripts/ability.js"></script>
  <script type="module" src="./scripts/card.js"></script>
  <script type="module" src="./scripts/cost.js"></script>
  <script type="module" src="./scripts/effect.js"></script>
  <script type="module" src="./scripts/globals.js"></script>
  <script type="module" src="./scripts/hook.js"></script>
  <script type="module" src="./scripts/library.js"></script>
  <script type="module" src="./scripts/main.js"></script>
  <script type="module" src="./scripts/mana.js"></script>
  <script type="module" src="./scripts/permanent.js"></script>
  <script type="module" src="./scripts/player.js"></script>
  <script type="module" src="./scripts/stack.js"></script>
  <script type="module" src="./scripts/turn.js"></script>
  <script type="module" src="./scripts/ui.js"></script>
  <script type="module" src="./scripts/zone.js"></script>

  <script type="module">
    import { RunTests, StartGame } from "./scripts/main.js";
    import { UI } from "./scripts/ui.js";

    let getId = x => document.getElementById(x);
    getId("confirm").onclick = () => UI.submitSelection();
    getId("pass").onclick = () => UI.passPriority();
    getId("endphase").onclick = () => UI.endPhase();
    getId("endturn").onclick = () => UI.endTurn();

    StartGame();
  </script>
</body>

</html>